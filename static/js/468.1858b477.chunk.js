"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[468],{468:function(n,t,e){e.r(t),e.d(t,{default:function(){return y}});var r,o,i,u=e(3433),c=e(9439),a=e(2791),s=e(168),l=e(6444),f=l.ZP.form(r||(r=(0,s.Z)(["\n  display: flex;\n  border: 1px solid #d1d5db;\n  margin-bottom: ","px;\n  @media (min-width: 768px) {\n    margin-left: auto;\n    margin-right: auto;\n    max-width: 500px;\n  }\n"])),(function(n){return n.theme.space[4]})),h=l.ZP.input(o||(o=(0,s.Z)(["\n  flex: 1;\n  margin-right: 10px;\n  border-color: transparent;\n  font-size: inherit;\n  padding-left: ","px;\n"])),(function(n){return n.theme.space[3]})),d=l.ZP.button(i||(i=(0,s.Z)(["\n  align-items: center;\n  display: flex;\n  padding: ","px ","px;\n  border: 0;\n  font-size: inherit;\n  background-color: inherit;\n  transition: color 0.2s linear;\n  :hover {\n    color: ",";\n  }\n  span {\n    margin-right: ","px;\n  }\n"])),(function(n){return n.theme.space[2]}),(function(n){return n.theme.space[2]}),(function(n){return n.theme.colors.accent}),(function(n){return n.theme.space[2]})),m=e(6856),p=e(184);function g(n){var t=n.onSearchSubmit,e=(0,a.useState)(""),r=(0,c.Z)(e,2),o=r[0],i=r[1];return(0,p.jsxs)(f,{onSubmit:function(n){n.preventDefault(),t(o),i("")},children:[(0,p.jsx)(h,{value:o,onChange:function(n){return i(n.target.value.trim())},type:"text"}),(0,p.jsx)(d,{type:"submit",children:(0,p.jsx)("span",{children:(0,p.jsx)(m.vU7,{size:22})})})]})}var x,Z=e(1087),b=e(9935),v=e(8647),S=l.ZP.button(x||(x=(0,s.Z)(["\n  margin-bottom: ","px;\n  padding: ","px;\n  font: inherit;\n  font-size: ",";\n  font-weight: 700;\n  color: inherit;\n  background-color: inherit;\n  border: 1px solid #d1d5db;\n  border-radius: ",";\n  transition: color 0.2s linear;\n  :hover {\n    color: ",";\n  }\n"])),(function(n){return n.theme.space[4]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.fontSizes.m}),(function(n){return n.theme.radii.normal}),(function(n){return n.theme.colors.accent})),j=e(7596),_=e(3904);var y=function(){var n=(0,a.useState)([]),t=(0,c.Z)(n,2),e=t[0],r=t[1],o=(0,a.useState)(1),i=(0,c.Z)(o,2),s=i[0],l=i[1],f=(0,a.useState)(null),h=(0,c.Z)(f,2),d=h[0],m=h[1],x=(0,a.useState)(!1),y=(0,c.Z)(x,2),k=y[0],w=y[1],z=(0,Z.lr)(),q=(0,c.Z)(z,2),C=q[0],P=q[1],A=C.get("query");return(0,a.useEffect)((function(){A&&(w(!0),b.Z.searchMovies(A,s).then((function(n){if(1===s)return 0===n.total_results?void j.Am.error("No result found for your request"):(m(n.total_results),void r((0,u.Z)(n.results)));r((function(t){return[].concat((0,u.Z)(t),(0,u.Z)(n.results))}))})).catch((function(n){return console.error(n)})).finally((function(){return w(!1)})))}),[s,A]),(0,a.useEffect)((function(){d===e.length&&j.Am.info("It's all according to your request")}),[e.length,d]),(0,p.jsxs)("main",{children:[(0,p.jsx)(g,{onSearchSubmit:function(n){P(""!==n?{query:n}:{}),r([]),m(null),l(1)}}),k&&(0,p.jsx)(_.Z,{}),e.length>0&&(0,p.jsx)(v.Z,{items:e}),e.length>0&&e.length!==d&&(0,p.jsx)(S,{onClick:function(){l((function(n){return n+1}))},children:"Load more..."})]})}}}]);
//# sourceMappingURL=468.1858b477.chunk.js.map