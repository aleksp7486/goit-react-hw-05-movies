{"version":3,"file":"static/js/468.1858b477.chunk.js","mappings":"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","sources":["components/SearchBox/SearchBox.styled.js","components/SearchBox/SearchBox.jsx","pages/Movies/Movies.styled.js","pages/Movies/Movies.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const Form = styled.form`\n  display: flex;\n  border: 1px solid #d1d5db;\n  margin-bottom: ${p => p.theme.space[4]}px;\n  @media (min-width: 768px) {\n    margin-left: auto;\n    margin-right: auto;\n    max-width: 500px;\n  }\n`;\n\nexport const Input = styled.input`\n  flex: 1;\n  margin-right: 10px;\n  border-color: transparent;\n  font-size: inherit;\n  padding-left: ${p => p.theme.space[3]}px;\n`;\n\nexport const Btn = styled.button`\n  align-items: center;\n  display: flex;\n  padding: ${p => p.theme.space[2]}px ${p => p.theme.space[2]}px;\n  border: 0;\n  font-size: inherit;\n  background-color: inherit;\n  transition: color 0.2s linear;\n  :hover {\n    color: ${p => p.theme.colors.accent};\n  }\n  span {\n    margin-right: ${p => p.theme.space[2]}px;\n  }\n`;\n","import { useState } from 'react';\nimport { Form, Input, Btn } from './SearchBox.styled';\nimport { MdSearch } from 'react-icons/md';\nimport PropTypes from 'prop-types';\n\nexport default function SearchBox({ onSearchSubmit }) {\n  const [value, setValue] = useState('');\n\n  const submitForm = e => {\n    e.preventDefault();\n    onSearchSubmit(value);\n    setValue('');\n  };\n\n  return (\n    <Form onSubmit={submitForm}>\n      <Input\n        value={value}\n        onChange={e => setValue(e.target.value.trim())}\n        type=\"text\"\n      />\n      <Btn type=\"submit\">\n        <span>\n          <MdSearch size={22} />\n        </span>\n      </Btn>\n    </Form>\n  );\n}\n\nSearchBox.propTypes = {\n  onSearchSubmit: PropTypes.func,\n};\n","import styled from 'styled-components';\n\nexport const LoadBtn = styled.button`\n  margin-bottom: ${p => p.theme.space[4]}px;\n  padding: ${p => p.theme.space[3]}px;\n  font: inherit;\n  font-size: ${p => p.theme.fontSizes.m};\n  font-weight: 700;\n  color: inherit;\n  background-color: inherit;\n  border: 1px solid #d1d5db;\n  border-radius: ${p => p.theme.radii.normal};\n  transition: color 0.2s linear;\n  :hover {\n    color: ${p => p.theme.colors.accent};\n  }\n`;\n","import SearchBox from 'components/SearchBox';\nimport { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport api from 'Services/tmdbAPI';\nimport MovieList from 'components/MovieList';\nimport { LoadBtn } from './Movies.styled';\nimport { toast } from 'react-toastify';\nimport Loader from 'components/Loader';\n\nfunction Movies() {\n  const [searchItems, setSearchItems] = useState([]);\n  const [page, setPage] = useState(1);\n  const [totalResults, setTotalResults] = useState(null);\n  const [loader, setLoader] = useState(false);\n\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const query = searchParams.get('query');\n\n  const onSearchSubmit = value => {\n    setSearchParams(value !== '' ? { query: value } : {});\n    setSearchItems([]);\n    setTotalResults(null);\n    setPage(1);\n  };\n\n  useEffect(() => {\n    if (query) {\n      setLoader(true);\n      api\n        .searchMovies(query, page)\n        .then(response => {\n          if (page === 1) {\n            if (response.total_results === 0) {\n              toast.error('No result found for your request');\n              return;\n            }\n            setTotalResults(response.total_results);\n            setSearchItems([...response.results]);\n            return;\n          }\n\n          setSearchItems(prev => [...prev, ...response.results]);\n        })\n        .catch(error => console.error(error))\n        .finally(() => setLoader(false));\n    }\n  }, [page, query]);\n\n  const onLoadBtnClick = () => {\n    setPage(state => state + 1);\n  };\n\n  useEffect(() => {\n    if (totalResults === searchItems.length) {\n      toast.info(\"It's all according to your request\");\n    }\n  }, [searchItems.length, totalResults]);\n\n  return (\n    <main>\n      <SearchBox onSearchSubmit={onSearchSubmit} />\n      {loader && <Loader />}\n      {searchItems.length > 0 && <MovieList items={searchItems} />}\n      {searchItems.length > 0 && searchItems.length !== totalResults && (\n        <LoadBtn onClick={onLoadBtnClick}>Load more...</LoadBtn>\n      )}\n    </main>\n  );\n}\n\nexport default Movies;\n"],"names":["Form","styled","p","theme","space","Input","Btn","colors","accent","SearchBox","onSearchSubmit","useState","value","setValue","onSubmit","e","preventDefault","onChange","target","trim","type","size","LoadBtn","fontSizes","m","radii","normal","searchItems","setSearchItems","page","setPage","totalResults","setTotalResults","loader","setLoader","useSearchParams","searchParams","setSearchParams","query","get","useEffect","api","then","response","total_results","toast","results","prev","catch","error","console","finally","length","Loader","MovieList","items","onClick","state"],"sourceRoot":""}